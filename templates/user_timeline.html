{% extends 'base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block base_style%}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'styles/user_timeline.css' %}">
    {% endblock base_style%}
    <title>Document</title>
</head>

<body>
    {% block content %}
    <div class="famoustopicsmain">
        <div class="containflex">
            <div class="leftside">
                <h2>Confess to {{extracted_category}}</h2>
                {% for profiles in visited_user_profiles %}
                <img src="{{profiles.image.url }}" alt="{{ profiles.user.username }}'s Profile Image">
                {% endfor %}
                <!-- Your Thoughts System Starts -->
                <h2>People Thoughts</h2>
                <section class="thoughtsform">
                    <form action="" method="post">
                        {% csrf_token %}
                        <label for="">Your Thoughts</label>
                        <br>
                        <textarea name="content" id="" placeholder="Say Something about {{extracted_category}}"></textarea>
                        <br>
                        <input type="submit" value="Post" class="copybtn">
                    </form>
                </section>
                <div class="commentbox">
                    {% for post in user_posts %}
                    <div class="comment">
                        <div class="imagepart">
                            <img src="{% static 'images/noone.png' %}" alt="userimg">
                        </div>
                        <div class="textpart">
                            <h4>Anonymous</h4>
                            <p>{{ post.content }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <!-- Your Thoughts System Ends-->
            </div>
            <div class="rightside">
                <div class="chartcontain">
                    <center>
                        <h3>Received Messages: {{actualdata}}</h3>
                        <div id="container" style="width: 60%;">
                            <canvas id="myChart1"></canvas>
                        </div>
                    </center>
                </div>
                <div class="catandside">
                    <div class="categoriesdiv">
                        <h3>Bio:</h3>
                            <p>Bio hai yo chai mero</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
    <script>
        var ctx = document.getElementById('myChart1').getContext('2d');
        var myChart1 = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: {{ finaldate| safe}},
        // labels: ["Message"],
        datasets: [{
            label: 'Details',
            // data: ['40', '10', '30'],
            data: {{ date_count_list| safe}},
            backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 135, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(151, 102, 132, 1)',
                'rgba(153, 99, 132, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 135, 1)',
                'rgba(25, 206, 86, 1)',
                'rgba(211, 192, 192, 1)',
                'rgba(234, 102, 132, 1)',
                'rgba(153, 99, 132, 1)',
                'rgba(255, 159, 64, 1)',
                'green',
                'yellow',
            ],

                borderColor: [
                    'rgba(54, 162, 135, 1)',
                    'rgba(25, 206, 86, 1)',
                    'rgba(211, 192, 192, 1)',
                    'rgba(234, 102, 132, 1)',
                    'rgba(153, 99, 132, 1)',
                    'rgba(255, 159, 64, 1)',

                ],

                    borderWidth: 1
                }]
            },

        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
        })
    </script>
    {% endblock %}

</body>

</html>